[ { "title": "Fairseq Tutorial 01 Basics", "url": "/posts/fairseq-tutorial-01-basics/", "categories": "NLP, Fairseq", "tags": "fairseq", "date": "2022-03-26 08:35:00 +0000", "snippet": "This post is an overview of the fairseq toolkit. Some important components and how it works will be briefly introduced.OverviewHere are some important components in fairseq: Tasks: Tasks are responsible for preparing dataflow, initializing the model, and calculating the loss using the target criterion. Models: A Model defines the neural network’s forward method and encapsulates all of the learnable parameters in the network. Each model also provides a set of named architectures that define the precise network configuration (e.g., embedding dimension, number of layers, etc.). Modules: In Modules we find basic components (e.g. transformer_layer, multihead_attention, etc.) of a model. Criterions: Criterions provide several loss functions give the model and batch. Optimizers: Optimizers update the Model parameters based on the gradients. Learning Rate Schedulers: Learning Rate Schedulers update the learning rate over the course of training.WorkflowIn this part we briefly explain how fairseq works. Getting an insight of its code structure can be greatly helpful in customized adaptations.The entrance points (i.e. where the main function is defined) for training, evaluating, generation and apis like these can be found in folder fairseq_cli. For this post we only cover the fairseq-train api, which is defined in train.py. Taking this as an example, we’ll see how the components mentioned above collaborate together to fulfill a training target.In train.py, we first set up the task and build the model and criterion for training by running following code:# trainer.py/main # Setup task, e.g., translation, language modeling, etc. task = tasks.setup_task(cfg.task) # Build model and criterion model = task.build_model(cfg.model) criterion = task.build_criterion(cfg.criterion)Then, the task, model and criterion above is used to instantiate a Trainer object, the main purpose of which is to facilitate parallel training.That done, we load the latest checkpoint available and restore corresponding parameters using the load_checkpoint function defined in module checkpoint_utils. After that, we call the train function defined in the same file and start training.References https://fairseq.readthedocs.io/en/latest/index.html" }, { "title": "Text and Typography", "url": "/posts/text-and-typography/", "categories": "Blogging, Demo", "tags": "typography", "date": "2019-08-08 03:33:00 +0000", "snippet": "This post is to show Markdown syntax rendering on Chirpy, you can also use it as an example of writing. Now, let’s start looking at text and typography.TitlesH1 - headingH2 - headingH3 - headingH4 - headingParagraphI wandered lonely as a cloudThat floats on high o’er vales and hills,When all at once I saw a crowd,A host, of golden daffodils;Beside the lake, beneath the trees,Fluttering and dancing in the breeze.ListsOrdered list Firstly Secondly ThirdlyUnordered list Chapter Section Paragraph Task list TODO Completed Defeat COVID-19 Vaccine production Economic recovery People smile again Description list Sun the star around which the earth orbits Moon the natural satellite of the earth, visible by reflected light from the sunBlock Quote This line shows the block quote. Prompts An example showing the tip type prompt. An example showing the info type prompt. An example showing the warning type prompt. An example showing the danger type prompt.Tables Company Contact Country Alfreds Futterkiste Maria Anders Germany Island Trading Helen Bennett UK Magazzini Alimentari Riuniti Giovanni Rovelli Italy Linkshttp://127.0.0.1:4000FootnoteClick the hook will locate the footnote1, and here is another footnote2.Images Default (with caption)Full screen width and center alignment Shadowshadow effect (visible in light mode) Left aligned Float to left “A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space.” Float to right “A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space. A repetitive and meaningless text is used to fill the space.” Mermaid SVG gantt title Adding GANTT diagram functionality to mermaid apple :a, 2017-07-20, 1w banana :crit, b, 2017-07-23, 1d cherry :active, c, after b a, 1dMathematicsThe mathematics powered by MathJax:\\[\\sum_{n=1}^\\infty 1/n^2 = \\frac{\\pi^2}{6}\\]When $a \\ne 0$, there are two solutions to $ax^2 + bx + c = 0$ and they are\\[x = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}\\]Inline codeThis is an example of Inline Code.FilepathHere is the /path/to/the/file.extend.Code blockCommonThis is a common code snippet, without syntax highlight and line number.Specific LanguagesConsole$ env |grep SHELLSHELL=/usr/local/bin/bashPYENV_SHELL=bashShellif [ $? -ne 0 ]; then echo &quot;The command was not successful.&quot;; #do the needful / exitfi;Specific filename@import &quot;colors/light-typography&quot;, &quot;colors/dark-typography&quot;Reverse Footnote The footnote source &amp;#8617; The 2nd footnote source &amp;#8617; " } ]
